<!-- admin-perfiles.component.html -->

<app-header-admin></app-header-admin>

<nav>
    <a routerLink="/inicio-clientes" >Inicio</a>
    <a routerLink="/admin-activacion-perfiles">Activacion/Desactivación</a>
    <a routerLink="/admin-acceso-clientes"class="current">acceso de clientes</a>


</nav>
<mat-card class="profile-card">
    <mat-card-title>Administración de Perfiles</mat-card-title>
    <mat-card-content>
        <p>Aquí puedes administrar los perfiles de usuario, revisar información detallada, y gestionar los accesos.</p>
      </mat-card-content> 
      <br>
      <mat-card-content>      
<div class="admin-perfiles-container">
  <h3>Repartidores</h3>
  <table mat-table [dataSource]="dataSourceRepartidores" class="mat-elevation-z8">

      <!-- Nombre del Usuario Column -->
      <ng-container matColumnDef="nombreUsuario">
        <th mat-header-cell *matHeaderCellDef> Nombre del Usuario </th>
        <td mat-cell *matCellDef="let element"> {{element.nombreUsuario}} </td>
      </ng-container>
  
      <!-- Tipo de Perfil Column -->
      <ng-container matColumnDef="tipoPerfil">
        <th mat-header-cell *matHeaderCellDef> Tipo de Perfil </th>
        <td mat-cell *matCellDef="let element"> {{element.tipoPerfil}} </td>
      </ng-container>
  
      <!-- Info del Perfil Button/Column -->
      <ng-container matColumnDef="infoPerfil">
        <th mat-header-cell *matHeaderCellDef> Info. del Perfil </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button routerLink="/info-registro-repartidor">Ver Info</button>
        </td>
      </ng-container>
  
      <!-- Fecha de Registro Column -->
      <ng-container matColumnDef="fechaRegistro">
        <th mat-header-cell *matHeaderCellDef> Fecha de Registro </th>
        <td mat-cell *matCellDef="let element"> {{element.fechaRegistro | date}} </td>
      </ng-container>
  
      <!-- Estado del Acceso Column -->
      <ng-container matColumnDef="estadoAcceso">
        <th mat-header-cell *matHeaderCellDef> Estado del Acceso </th>
        <td mat-cell *matCellDef="let element"> {{element.estadoAcceso}} </td>
      </ng-container>

      <!-- Botón de Accesos Column -->
      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef> Acciones </th>
        <td mat-cell *matCellDef="let element">
          <button mat-raised-button color="primary" (click)="aceptarRepartidor(element)">Aceptar</button>
          <button mat-raised-button color="warn" (click)="rechazarRepartidor(element)">Rechazar</button>
        </td>
      </ng-container>
  
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

</mat-card-content>
<mat-card-content>
  <div class="admin-perfiles-container">
    <h3>Restaurantes</h3>
    <table mat-table [dataSource]="dataSourceRestaurantes" class="mat-elevation-z8">
      <!-- ... Columnas ... -->
      <!-- Nombre del Usuario Column -->
      <ng-container matColumnDef="nombreUsuario">
        <th mat-header-cell *matHeaderCellDef> Nombre del Usuario </th>
        <td mat-cell *matCellDef="let element"> {{element.nombreUsuario}} </td>
      </ng-container>
  
      <!-- Tipo de Perfil Column -->
      <ng-container matColumnDef="tipoPerfil">
        <th mat-header-cell *matHeaderCellDef> Tipo de Perfil </th>
        <td mat-cell *matCellDef="let element"> {{element.tipoPerfil}} </td>
      </ng-container>
  
      <!-- Info del Perfil Button/Column -->
      <ng-container matColumnDef="infoPerfil">
        <th mat-header-cell *matHeaderCellDef> Info. del Perfil </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button routerLink="/info-registro-restaurante">Ver Info</button>
        </td>
      </ng-container>
  
      <!-- Fecha de Registro Column -->
      <ng-container matColumnDef="fechaRegistro">
        <th mat-header-cell *matHeaderCellDef> Fecha de Registro </th>
        <td mat-cell *matCellDef="let element"> {{element.fechaRegistro | date}} </td>
      </ng-container>
  
      <!-- Estado del Acceso Column -->
      <ng-container matColumnDef="estadoAcceso">
        <th mat-header-cell *matHeaderCellDef> Estado del Acceso </th>
        <td mat-cell *matCellDef="let element"> {{element.estadoAcceso}} </td>
      </ng-container>

      <!-- Botón de Accesos Column -->
      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef> Acciones </th>
        <td mat-cell *matCellDef="let element">
          <button mat-raised-button color="primary" (click)="aceptarRestaurante(element)">Aceptar</button>
          <button mat-raised-button color="warn" (click)="rechazarRestaurante(element)">Rechazar</button>
        </td>
      </ng-container>
  
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

</mat-card-content>
</mat-card>

<ng-template #rechazarDialog let-data>
  <h2 mat-dialog-title>Rechazar Perfil</h2>
  <mat-dialog-content>
      <p>Especifica la razón del rechazo de la información:</p>
      <mat-form-field appearance="fill">
          <textarea matInput placeholder="Escribe la razón aquí" rows="5"></textarea>
      </mat-form-field>
  </mat-dialog-content>
  <mat-dialog-actions>
      <button mat-button mat-dialog-close>Cancelar</button>
      <button mat-button color="warn" [mat-dialog-close]="true">Rechazar</button>
  </mat-dialog-actions>
</ng-template>